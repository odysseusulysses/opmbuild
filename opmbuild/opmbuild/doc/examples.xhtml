<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link rel="stylesheet" type="text/css" href="css/common.css" />
        <title>Examples</title>
    </head>
    <body>
        <div id="wrapper">
            <div id="header">OPM Builder</div>
            <ul id="nav">
                <li><a href="index.xhtml">Introduction</a></li>
                <li><a href="install.xhtml">Installation</a></li>
                <li><a href="manual.xhtml">Manual</a></li>
                <li><a href="examples.xhtml">Examples</a></li>
                <li><a href="apidocs/index.html">JavaDoc</a></li>
            </ul>
            <div id="content" class="clearfix">
                <div id="col_1">
                    <h2>Examples</h2>
                    <!--ul id="subnav">
                        <li><a href = "index.xhtml">Summary</a></li>
                        <li><a href = "opm-intro.xhtml">OPM</a></li>
                    </ul -->
                </div>
                <div id="col_2">
                    <h1>Examples</h1>
                    <p>
                        The following example code snippets are available.
                        <ul>
                            <li><a href = "#BuildGraphNoAccounts">Build a simple OPM graph without accounts.</a></li>
                            <li><a href = "#BuildGraphWithAccounts">Build a simple OPM graph with accounts.</a></li>
                        </ul>
                    </p>
                    <a name = "BuildGraphNoAccounts"/>
                    <h2>Building an OPM Graph</h2>
                    <p>
                        In the following example, a graph is created containing two artifacts, one used by and
                        the other generated by a process, with roles named, a timestamp asserted on one edge,
                        and an annotation to an artifact and the graph.
                        <blockquote>
                            import org.opmbuild.*;<br/>
                            import java.util.Date;<br/>
                            ...<br/>
                            <br/>
                            Graph g = new Graph ();<br/>
                            Artifact a1 = new Artifact (), a2 = new Artifact ();<br/>
                            Process p = new Process ();<br/>
                            <br/>
                            g.add (a1);<br/>
                            g.add (a2);<br/>
                            g.add (p);<br/>
                            g.add (new Used (p, "input", a1, new Time (new Date ())));<br/>
                            g.add (new WasGeneratedBy (a2, "output", p));<br/>
                            a1.annotate ("http://my.ontology#owner", "Simon Miles");<br/>
                            g.annotate ("http://my.ontology#author", "Simon Miles");
                        </blockquote>
                    </p>

                    <a name = "BuildGraphWithAccounts"/>
                    <h2>Building an OPM Graph with Multiple Accounts</h2>
                    <p>
                        In the next example, we use accounts to describe the refinement of a process p into two sub-processes,
                        p1 and p2.
                        <blockquote>
                            Graph g = new Graph ();<br/>
                            Artifact a1 = new Artifact (), a2 = new Artifact (), a3 = new Artifact ();<br/>
                            Process p = new Process (), p1 = new Process (), p2 = new Process ();<br/>
                            Account coarse = new Account (), fine = new Account ();<br/>
                            <br/>
                            coarse.add (a1);<br/>
                            coarse.add (a3);<br/>
                            coarse.add (p);<br/>
                            coarse.add (new Used (p, a1);<br/>
                            coarse.add (new WasGeneratedBy (a3, p));<br/>
                            fine.add (a1);<br/>
                            fine.add (a2);<br/>
                            fine.add (a3);<br/>
                            fine.add (p1);<br/>
                            fine.add (p2);<br/>
                            fine.add (new Used (p1, a1);<br/>
                            fine.add (new WasGeneratedBy (a2, p1));<br/>
                            fine.add (new Used (p2, a2);<br/>
                            fine.add (new WasGeneratedBy (a3, p2));<br/>
                            g.add (coarse);<br/>
                            g.add (fine);
                        </blockquote>
                    </p>
                </div>
            </div>
            <div id="footer"><small>
                    Layout by <a href="http://www.free-css.com/" target="_blank">Free CSS.com</a></small></div>
        </div>

    </body>
</html>
